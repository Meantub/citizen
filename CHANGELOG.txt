[0.8.5]
  * Added custom header check (x-citizen-uri) to provide the original requested URL to citizen when behind a proxy (nginx, apache, etc.), which fixes issues with ctzn_referer and secure cookies

[0.8.4]
  * Fixed a bug in static file serving that caused initial requests for compressed static files to fail

[0.8.3]
  * Removed unnecessary copy() on file cache retrieval, which was causing static file serving to bomb out

[0.8.2]
  * Preserve dates when copying objects

[0.8.1]
  * Further fixes to copy() and extend(). Circular references are no longer supported, however.
  * Removed a lot of unnecessary and complex copy() and extend() calls for a noticeable performance boost. There's less protection now against bad behavior (modifying param.session directly within controllers, for example), so if you access the params argument directly...test thoroughly :)

[0.8.0]
  * BREAKING CHANGES (see readme for details):
    * Updated dependencies to latest versions
    * The built-in Jade and Handlebars template engines have been replaced with consolidate.js (https://github.com/tj/consolidate.js). Simply install your preferred engine, add it to your dependencies, and set the "templateEngine" config setting. Handlebars is included by default.
    * Config change: the server "hostname" setting has been changed to "host" so as to avoid confusion with the HTTP/HTTPS server hostname settings
    * The copy() and extend() helpers have been updated for improved accuracy within the framework, which means some bad behavior that was tolerated previously will no longer work. Please test any code that relies on these methods to ensure it still behaves as expected.
    * CORS support has been enhanced to provide unique attributes to each controller action, so the notation in the controller has changed
    * Cache-Control settings for cached routes should now be handled using the new HTTP Header directive rather than route.cache.control
  * Deprecations
    * All helpers except for cache() and log() have been deprecated and will be removed from the public app scope in 0.9.0. Any of the deprecated helpers can be replaced by native functionality (Promises in place of listen() for example) or a third-party library. cache() and log() are still pretty nice though (imho), so I'm keeping them public.

[0.7.19]
  * Deprecations (these items will no longer be supported by citizen as of v0.8.0):
    * The "access" module export that enables CORS support at the controller level will be replaced with a "headers" directive that works at the controller action level.
    * The developers of Jade have renamed the project to Pug with all new updates being performed under the Pug name. citizen will drop support for Jade and replace it with the new Pug engine. There are a few breaking changes in Pug: https://github.com/pugjs/pug/issues/2305
  * Fixed an issue where "Accept-Encoding: gzip;q=0" would still provide gzip encoding because it was the only encoding specified (encoding now defaults to identity)
  * Official minimum node version has been bumped to 6.11.x

[0.7.18]
  * Opinion: See 0.7.17.

[0.7.17]
  * Opinion: requiring minor version bumps because of readme updates is stupid.

[0.7.16]
  * The accepting-encoding parser has been rewritten to be conformant
  * The compression engine has been rewritten to support deflate
  * A potentially breaking change: The default configuration has been changed to disable JSON and JSONP global output by default, which is safer. You can enable each one individually in the global config, causing all controllers to allow output in those formats, or enable JSON or JSONP output at the controller level using the new "formats" parameter.
  * HTML output can now be disabled completely at the global config level or controller level
  * Pretty output for HTML and JSON is now driven by the framework mode rather than config values. In debug and development modes, output is pretty. In production mode, output is ugly (minified).

[0.7.15]
  * Added referrer ("referer") to error log, because it's helpful

[0.7.14]
  * Fixed app crashes caused by non-request related errors (packages running in the background, for example)

[0.7.13]
  * Added the session scope to the beginning of the request chain, making it available within the application request event

[0.7.12]
  * Fixed a bug masked by the previous cache bug, which caused a timer to be set even if lifespan was set to "application"

[0.7.11]
  * Fixed a bug that caused a cache error when lifespan is set to "application" and tweaked the readme to reflect new cache defaults

[0.7.10]
  * Fixed a bug in the previous update that caused it not to work at all :)

[0.7.9]
  * The server requestStart event now fires before the sessionStart event, which is a more logical execution order. A 404 (missing controller and/or action) initiated by a third party referrer will no longer create an orphaned session, for example. This also allows custom handling of missing controllers and actions in the request.js start() action (like issuing a permanent redirect to a different controller or action, for example).

[0.7.8]
  * Cache-Control headers specified in the config (cache.control) now support regular expressions. You can provide either an exact match to the resource's pathname (the previous functionality) or a regex that matches many assets. You can mix the two. Also corrected the readme, which had an incorrect example for route Cache-Control.
  * Server errors now include the remote host

[0.7.7]
  * The server now throws an error if the view specified in a controller handoff doesn't exist. Previously, it failed silently and rendered the final view without the handoff view contents.

[0.7.6]
  * Fixed a bug that always enabled the static cache (introduced in 0.7.4 with the new cache config defaults)

[0.7.5]
  * Improved cache and session performance by getting rid of the creation of new timers with every request or cache hit and using a lastAccessed attribute for the existing timer to validate against (see https://github.com/jaysylvester/citizen/issues/31)

[0.7.4]
  * BREAKING CHANGE: Added default cache config options for both application and static asset caches, breaking previous config settings. The new defaults enable a reasonable cache lifespan (15 minutes), preventing issues like cached static assets from growing over time and taking up memory even if they're not being accessed regularly. Previously, enabling the static cache kept all static assets in memory for the life of the application. Consult the readme for details.
  * Improved server error handling, making apps more resilient to fatal errors and avoiding app crashes

[0.7.3]
  * BREAKING CHANGES (These were intended for 0.7.0, but were lost in the merge and I missed it. Sorry for the breakage in a point release.):
    * All config options can now be overwritten at app startup, including config settings in your own namespaces. This breaks the HTTP and HTTPS overwrite options that were available previously.
    * By default, app.start() starts an HTTP server. To start an HTTPS server, you must enable it manually inline or via a config file and provide key/cert/pfx files. You can disable HTTP entirely via config as well. Consult the readme for details.
    * HTTPS key/cert/pfx files should now be passed as a string representing the path to the file, not the contents of the files themselves. citizen reads these files itself now.

[0.7.2]
  * Removed errant console.log() from the server module

[0.7.1]
  * Fixed a bug in the cache module that caused an error when attempting to clear the file cache

[0.7.0]
  * Cache methods have been renamed and moved to their own namespace (app.cache). The old calls and their new equivalents are:
    * app.cache()    -> app.cache.set()
    * app.retrieve() -> app.cache.get()
    * app.exists()   -> app.cache.exists()
    * app.clear()    -> app.cache.clear()
  * Fixe a bug in cache.get() that returned the parent of the specified scope rather than the scope itself when requesting an entire scope. This will break existing calls to cache.get({ scope: 'myScopeName' })
  * Cache lifespan should now be specified in minutes instead of milliseconds -> app.cache.set({ key: 'myKey', lifespan: 15 })
  * Config settings for sessionTimeout and requestTimeout should now be specified in minutes instead of milliseconds -> sessionTimeout: 20
  * Cookie expiration should now be specified in minutes instead of milliseconds
  * Added global cache setting to enable/disable cache in any mode
  * Added layout pattern setting to the config, which allows you to specify a default controller/view pairing as a layout controller and skip the handoff directive in the requested controller
  * Added per-controller form settings in the config, which breaks the previous form config method.
  * Added individual settings for application and static asset error and status logging. For example, you can now log application error messages in production mode without also logging static errors (404) or the typically verbose framework status messages.
  * listen() now accepts a single argument consisting of an object containing functions (flow and callback are optional)
  * Added ability to end a specific user session based on a session property key/value pair using app.session.end('key', 'value')
  * Specifying { view: false } in a controller's emitter during a handoff skips rendering of that controller's default view
  * All citizen-scoped cookie and session variables (starting with "ctzn") have been changed to "ctzn_camelCase" format (ctznReferer is now ctzn_referer).
  * dashes(), isInteger(), and isFloat() have been removed from helpers. There are libraries better suited for this.

[0.6.9]
  * Added listen() skip and end events to the readme.
  * Methods skipped in listen() by a previous method throwing an error now have their statuses correctly set to "skipped" in output.listen.status

[0.6.8]
  * The listen() error event has been returned to its previous behavior of throwing its own error. Without this, debugging is pretty much impossible. citizen's behavior remains the same, however (errors are not allowed to bubble up to the node process, so the app doesn't crash). You should still be using listen.success and listen.status to handle errors properly though.
  * BREAKING CHANGE: All URL parameters are now cast as strings, including numeric values. There are too many complicating factors in JavaScript's handling of numbers (floats, large integers) for citizen to make assumptions regarding the desired type. For example, "0123" is numeric and would have been stored as "123" under the previous convention; if your app was expecting the leading zero to remain intact, that would be bad. New convenience functions have been added (isInteger and isFloat) to assist in dealing with numbers.
  * The dashes() helper has been deprecated. It's still there, but will be gone in version 0.7.0. There are much more fully-featured URL slug packages available, and since citizen doesn't use this helper internally, there's no sense in keeping it.

[0.6.7]
  * Further stabilization of the error API.

[0.6.6]
  * Error handling has been further improved. See "Handling Errors" in the readme. Changes include:
    * Error response formats now match the requested route format (HTML, JSON, or JSONP), which is potentially a breaking change depending on how you've been handling errors up to this point.
    * The listen() error and timeout events no longer throw errors themselves, which is potentially a breaking change if you were relying on these thrown errors previously. You should now use the listen() status output (output.listen) for dealing with the results of these events.

[0.6.5]
  * Added an error event to the listen() emitter. Any methods that rely on emitters (including your controllers) can now emit errors with HTTP status codes and error messages. See "Controllers" and "listen()" in the readme.
  * listen() now reports status in its output (output.listen) for individual methods. Combine this with the emitter's error event to help track and recover from errors in asynchronous function calls. See "listen()" in the readme.
  * The redirect directive now accepts a URL string as shorthand for a temporary redirect using the Location header

[0.6.4]
  * BREAKING CHANGE: The JSON/JSONP output parameter can now return nodes more than one level deep. See "JSON" in the readme for details. The breakage occurs due to how the JSON is returned; if you specify only the first top-level node, just the value of that node is returned within an envelope. Previously, the envelope contained a single key (the top-level node name) containing the value of the node.
  * JSON/JSONP output is now pretty by default. Remove whitespace by setting "pretty" to false in the config.
  * Fixed PUT/PATCH/DELETE methods to process payloads consisting of JSON or form data
  * Controller includes can now be specified via a "route" option, making it possible to call includes with different parameters than the parent controller. See "Including Controllers" in the readme.

[0.6.3]
  * Fixed another bug in controller caching. Dur.

[0.6.2]
  * Fixed a bug in controller caching that threw a server error
  * Updated the readme to reflect breaking changes introduced in 0.6.0 that I somehow missed.

[0.6.1]
  * Added ETag and Cache-Control headers to cached routes and static files. See "Client-Side Caching" in the readme.
  * Minor breaking change due to a bug fix: the app's urlPath (config.urlPaths.app) is now removed from params.route.filePath for static resources to provide an accurate file path from your public web root. The appropriate replacement is params.route.pathname, which includes the entire path after your site's domain.

[0.6.0]
  * BREAKING CHANGE: The nesting syntax for the cache directive has changed slightly, but updating your code will be easy (mostly copy/paste of your existing cache directives). See "Caching Routes and Controllers" in the readme.
  * BREAKING CHANGE: File cache retrieval syntax has changed. You must now specify the file attribute rather than the key attribute:
    app.exists({ file: '/path/to/file.txt' });
    app.retrieve({ file: '/path/to/file.txt' });
    app.exists({ file: 'myCustomKey' });
    app.retrieve({ file: 'myCustomKey' });
  * gzip support added for both dynamic and static resources. See configuration options in the readme.
  * Static asset caching added. See configuration options in the readme.

[0.5.10]
  * You can now specify a node name in the URL to return a specific top-level JSON node (/format/json/output/nodename). Works for JSONP also. See JSON in the readme for instructions.
  * Added Forms section to readme to provide some tips on working with form data and creating progressively enhanced forms
  * citizen's reserved URL parameters no longer need to be added to cache.directives manually
  * Added an option to log a warning about invalid cache URL parameters instead of throwing an error. If citizen encounters a URL parameter not present in cache.urlParams, the route will be processed and displayed, but not cached. This is now the default behavior. Use "cache": { "invalidUrlParams" : "throw" } in your config to throw an error instead.
  * The server now throws an error if you try to assign values to any reserved directive names that will cause problems in your application; scopes include url, session, content, and others. I'd label this a breaking change, but if you're doing this, your application is probably already broken.

[0.5.9]
  * app.listen() has been enhanced to perform asynchronous parallel, series, or waterfall processing. This is a non-breaking change because the default behavior (parallel) is the same as the original behavior. See listen() in the readme for details.
  * Replaced POST body parsing with formidable. I hate adding dependencies, but formidable is the standard and it works very well, so it seems silly to write a multipart form parser from scratch.
  * Fixed default debug rendering (defaults to console, view is optional)
  * Errors now have their own views determined by the JS error code or HTTP status code, with a catch-all default error view. These views are optional and have no matching controller or model. See readme for details.
  * Added example error views to scaffold

[0.5.8]
  * Small performance tweaks and debug additions in the server and router
  * Readme updates

[0.5.7]
  * Fixed a bug in the view directive when used within an include controller. Note that the view directive still can't (and never will) work within a cached include controller. You need to specify the include controller's view in the include directive of the calling controller if you intend to cache the result.
  * Improved error messages by throwing proper Error objects, allowing more useful trace logs
  * Cleaned up server.js and helpers.js a bit

[0.5.6]
  * Fixed a bug in view rendering caused by controllers that have includes but no content directive in the emitter
  * Improvements to format parameter handling

[0.5.5]
  * Bug fixes for JSON and JSONP output

[0.5.4]
  * Readme fixes related to cache syntax changes

[0.5.3]
  * Fixed a bug in https.secureCookies that prevented the cookie directive from overriding it. You can now tell citizen to intentionally set an insecure cookie in a secure environment.
  * Changed the default cookie path to urlPaths.app (cookies were being set to the root path "/" by default previously). This is technically a breaking change, but the worst that will happen is that cookies set prior to this change will no longer be accessible if your app path is something other than "/".

[0.5.2]
  * Added "secureCookies" option to "https" config. By default, all cookies set during an HTTPS request are secure. Setting this option to false allows non-secure cookies to be set by secure pages.

[0.5.1]
  * Forgot to update the config builder in util/scaffold.js with the new HTTP config

[0.5.0]
  * BREAKING CHANGE: Secure server support (HTTPS) has been added, resulting in minor changes to the way default hostnames and ports are stored in the config file. See "Configuration" and "HTTPS" in the readme for details.
  * BREAKING CHANGE (potentially): The default setting for citizen.urlPaths.app has been changed to "/" (previously an empty string). If you're referencing this variable within your own app to build URLs, it might cause problems.
  * Added a "path" option under "log" in the config so you can specify an alternate location for log files
  * Fixed a bug in error handling caused by the addition of helpers.public

[0.4.1]
  * Seems silly to change version numbers just for a readme fix, but that's the world we live in.

[0.4.0]
  * BREAKING CHANGE: Views rendered in a controller chain using handoff are now stored in the route.chain scope instead of the include scope (details in the readme under the "Controller Handoff" section)
  * BREAKING CHANGE: The syntax for the cache directive has been changed to make it a bit easier to understand. See the "Caching Routes and Controllers" section in the readme.
  * Fixed a bug in controller caching that threw an error when trying to cache a controller that also used the include directive
  * The "includeThisView" attribute within the handoff directive has been deprecated. If a controller in a handoff chain has a matching view, it's rendered automatically. If you leave this attribute in place, it won't break anything, but it will be ignored.
  * Added an error handler for EADDRNOTAVAIL at server startup (hostname unavailable/already in use)
  * Moved hasOwnProperty check in app.extend() to outer if statement so it covers both conditions
  * Added clearTimeout to session.end() so timers are cleared when a session is ended manually

[0.3.8]
  * app.copy() and app.extend() bug fixes and performance improvements
  * Made startup messaging consistent with actual settings

[0.3.7]
  * Fixed a bug in log()
  * app.config.hostname can be set to an empty string, allowing responses from any host
  * Switched object "deletions" to use null instead of undefined
  * Added config descriptions to readme
  * Removed index entry point (redundant)

[0.3.6]
  * Added another error scenario for HTTP port availability

[0.3.5]
  * Added httpPort to the skeleton app config because it's easier on new users to modify that setting if it's already there

[0.3.4]
  * Fixed a major bug in app.log() that pretty much broke logging entirely
  * Added a timestamp option to app.log() that lets you disable the timestamp in the log output
  * Added error handling for some common server startup problems and friendly messaging to aid in troubleshooting
  * Improved formatting for startup logs

[0.3.3]
  * Readme fixes

[0.3.2]
  * Added a util directory with a scaffolding CLI. You can now create an app skeleton and generate MVC patterns automagically. See the readme for instructions.

[0.3.1]
  * Readme fixes

[0.3.0]
  * BREAKING CHANGE: citizen includes are now self-contained and only play in their own sandbox. They no longer receive updated context from the calling controller, and they no longer pass their own content and directives into the request context. This just makes more sense and avoids a lot of pitfalls I was experiencing in my own projects.
  * BREAKING CHANGE: Completely rewrote caching, fixing bugs and making additions such as a custom scope option, allowing for easy deletion of groups of cached items. Please see the readme for changes to app.cache(), app.exists(), app.retrieve(), and app.clear(), which now all take options objects instead of a list of arguments.
  * BREAKING CHANGE: app.size() now throws an error if the provided argument isn't an object literal
  * Fixed several bugs in server.js that broke controller caching, route cache expiration, and cache URL params validation
  * Added app.log() helper to make it easier to log application events to the console or files based on application mode (production, debug, etc.)
  * Added prettyHTML config setting for Jade templates in production mode (default is true, setting it to false removes all whitespace between tags)
  * Fixed the default action in params.route.chain ('handler')
  * Rewrote app.dashes(), fixing a few bugs and adding a fallback option that gets returned if the parsed string ends up being empty

[0.2.14]
  * The ctznRedirect session variable now has a cookie fallback if sessions aren't enabled
  * Fixed a bug in direct cookie assignments

[0.2.13]
  This is the beginning of the change log. I think citizen is "complete" enough to warrant it.

  * BREAKING CHANGE: Changed params.route.pathName to params.route.pathname
  * Enhanced redirect functionality
